(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{203:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>v});var s=t(7876),a=t(4232),l=t(9099),n=t(1886),i=t(1340),o=t(2347),d=t(9239),c=t(7897),m=t(2341),x=t(4622),u=t(1713);let h=(0,u.A)("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),p=(0,u.A)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var y=t(7328),b=t.n(y),g=t(8230),f=t.n(g),j=t(7244);let v=()=>{let e=(0,l.useRouter)(),[r,t]=(0,a.useState)("user"),[u,y]=(0,a.useState)({email:"",password:""}),[g,v]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[k,P]=(0,a.useState)(""),[S,E]=(0,a.useState)(!1),[C,A]=(0,a.useState)(""),[T,O]=(0,a.useState)(!1),[F,_]=(0,a.useState)(""),[L,M]=(0,a.useState)(!1),[q,z]=(0,a.useState)(""),H=(e,r)=>{y(t=>({...t,[e]:r})),k&&P("")},V=async r=>{if(r.preventDefault(),!u.email||!u.password)return void P("Please fill in all fields");w(!0),P("");try{await (0,j.Lx)(u);let r=e.query.redirect||"/";e.push(r)}catch(e){P("Invalid email or password")}finally{w(!1)}},B=async e=>{if(e.preventDefault(),z(""),!C.match(/^[0-9]{10}$/))return void z("Enter a valid 10-digit phone number");M(!0),setTimeout(()=>{O(!0),M(!1)},800)},D=async r=>{if(r.preventDefault(),z(""),!F||F.length<4)return void z("Enter the OTP sent to your phone");M(!0),setTimeout(()=>{e.push("/")},1e3)},I=async r=>{if(r.preventDefault(),z(""),!F||F.length<4)return void z("Enter the OTP sent to your phone");M(!0),setTimeout(()=>{e.push("/provider/dashboard")},1e3)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(b(),{children:[(0,s.jsx)("title",{children:"Login - VillageStay"}),(0,s.jsx)("meta",{name:"description",content:"Login to your VillageStay account to book authentic rural experiences."})]}),(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-primary-50 to-secondary-50 flex items-center justify-center p-4",children:[(0,s.jsxs)("div",{className:"absolute inset-0 opacity-10",children:[(0,s.jsx)("div",{className:"absolute top-10 left-10 w-20 h-20 bg-primary-500 rounded-full"}),(0,s.jsx)("div",{className:"absolute top-40 right-20 w-16 h-16 bg-secondary-500 rounded-full"}),(0,s.jsx)("div",{className:"absolute bottom-20 left-20 w-12 h-12 bg-accent-500 rounded-full"}),(0,s.jsx)("div",{className:"absolute bottom-40 right-10 w-24 h-24 bg-primary-300 rounded-full"})]}),(0,s.jsxs)(n.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md relative z-10",children:[(0,s.jsx)("div",{className:"text-center mb-8",children:(0,s.jsxs)(f(),{href:"/",className:"inline-flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-primary-500 rounded-xl flex items-center justify-center",children:(0,s.jsx)(i.A,{className:"w-7 h-7 text-white"})}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-gray-800",children:["Village",(0,s.jsx)("span",{className:"text-primary-500",children:"Stay"})]})]})}),(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Welcome Back"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Sign in to continue your rural adventure"})]}),(0,s.jsxs)("div",{className:"flex justify-center mb-8 space-x-2",children:[(0,s.jsx)("button",{className:"px-4 py-2 rounded-l-lg font-medium border ".concat("user"===r?"bg-primary-500 text-white":"bg-gray-100 text-gray-700"),onClick:()=>t("user"),type:"button",children:"User"}),(0,s.jsx)("button",{className:"px-4 py-2 rounded-r-lg font-medium border ".concat("provider"===r?"bg-primary-500 text-white":"bg-gray-100 text-gray-700"),onClick:()=>t("provider"),type:"button",children:"Service Provider"})]}),k&&"user"===r&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:k}),"user"===r&&(0,s.jsxs)(s.Fragment,{children:[!S&&(0,s.jsxs)("form",{onSubmit:V,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"email",value:u.email,onChange:e=>H("email",e.target.value),placeholder:"Enter your email",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all duration-300",required:!0})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(d.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:g?"text":"password",value:u.password,onChange:e=>H("password",e.target.value),placeholder:"Enter your password",className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all duration-300",required:!0}),(0,s.jsx)("button",{type:"button",onClick:()=>{v(!g)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 transition-colors",children:g?(0,s.jsx)(c.A,{className:"w-5 h-5"}):(0,s.jsx)(m.A,{className:"w-5 h-5"})})]})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("label",{className:"flex items-center",children:[(0,s.jsx)("input",{type:"checkbox",className:"w-4 h-4 text-primary-500 border-gray-300 rounded focus:ring-primary-500"}),(0,s.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:"Remember me"})]}),(0,s.jsx)(f(),{href:"/forgot-password",children:(0,s.jsx)("span",{className:"text-sm text-primary-500 hover:text-primary-600 transition-colors",children:"Forgot password?"})})]}),(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:N,className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:N?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Sign In"}),(0,s.jsx)(x.A,{className:"w-5 h-5"})]})})]}),(0,s.jsxs)("div",{className:"my-8 flex items-center",children:[(0,s.jsx)("div",{className:"flex-1 border-t border-gray-300"}),(0,s.jsx)("span",{className:"px-4 text-sm text-gray-500",children:"or"}),(0,s.jsx)("div",{className:"flex-1 border-t border-gray-300"})]}),S?(0,s.jsxs)("form",{onSubmit:T?D:B,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"tel",value:C,onChange:e=>A(e.target.value),placeholder:"Enter your phone number",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all duration-300",required:!0,pattern:"[0-9]{10}",maxLength:10})]})]}),T&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter OTP"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:F,onChange:e=>_(e.target.value),placeholder:"Enter OTP",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all duration-300",required:!0,maxLength:6})]})]}),q&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:q}),(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:L,className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:L?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:T?"Verify OTP":"Send OTP"}),(0,s.jsx)(x.A,{className:"w-5 h-5"})]})}),(0,s.jsx)("button",{type:"button",className:"w-full mt-2 text-sm text-gray-500 hover:text-primary-500 underline",onClick:()=>{E(!1),O(!1),A(""),_(""),z("")},children:"Back to Email Login"})]}):(0,s.jsxs)("button",{className:"w-full flex items-center justify-center space-x-2 py-3 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors font-medium text-gray-700",onClick:()=>E(!0),type:"button",children:[(0,s.jsx)(h,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Login with Phone Number (Optional)"})]}),"user"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"my-8 flex items-center",children:[(0,s.jsx)("div",{className:"flex-1 border-t border-gray-300"}),(0,s.jsx)("span",{className:"px-4 text-sm text-gray-500",children:"or"}),(0,s.jsx)("div",{className:"flex-1 border-t border-gray-300"})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("button",{className:"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),(0,s.jsx)("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),(0,s.jsx)("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),(0,s.jsx)("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),(0,s.jsx)("span",{className:"text-gray-700",children:"Continue with Google"})]}),(0,s.jsxs)("button",{className:"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,s.jsx)("svg",{className:"w-5 h-5",fill:"#1877F2",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),(0,s.jsx)("span",{className:"text-gray-700",children:"Continue with Facebook"})]})]})]}),"user"===r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-center mt-8",children:(0,s.jsxs)("p",{className:"text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(f(),{href:"/signup",children:(0,s.jsx)("span",{className:"text-primary-500 hover:text-primary-600 font-medium transition-colors",children:"Sign up here"})})]})}),(0,s.jsxs)("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[(0,s.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Demo Credentials:"}),(0,s.jsxs)("div",{className:"text-xs text-gray-600 space-y-1",children:[(0,s.jsx)("p",{children:"Email: demo@villagestay.com"}),(0,s.jsx)("p",{children:"Password: demo123"})]})]})]})]}),"provider"===r&&(0,s.jsxs)("form",{onSubmit:T?I:B,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"tel",value:C,onChange:e=>A(e.target.value),placeholder:"Enter your phone number",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all duration-300",required:!0,pattern:"[0-9]{10}",maxLength:10})]})]}),T&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter OTP"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(p,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),(0,s.jsx)("input",{type:"text",value:F,onChange:e=>_(e.target.value),placeholder:"Enter OTP",className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent outline-none transition-all duration-300",required:!0,maxLength:6})]})]}),q&&(0,s.jsx)(n.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg",children:q}),(0,s.jsx)(n.P.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:L,className:"w-full bg-primary-500 hover:bg-primary-600 text-white font-medium py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:L?(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:T?"Verify OTP":"Send OTP"}),(0,s.jsx)(x.A,{className:"w-5 h-5"})]})})]})]})]})]})}},2341:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1713).A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5794:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(203)}])},7897:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1713).A)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9239:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(1713).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{var r=r=>e(e.s=r);e.O(0,[213,874,244,636,593,792],()=>r(5794)),_N_E=e.O()}]);