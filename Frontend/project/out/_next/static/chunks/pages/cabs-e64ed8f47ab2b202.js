(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[965],{6932:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cabs",function(){return s(9357)}])},9357:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var a=s(7876),l=s(4232),n=s(7328),c=s.n(n),r=s(3122),d=s(9371),i=s(6856);function o(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(""),[o,x]=(0,l.useState)(null),[m,u]=(0,l.useState)(""),[p,h]=(0,l.useState)(!1),[g,j]=(0,l.useState)([]);(0,l.useEffect)(()=>{console.log(e)},[e]);let b=async t=>{t.preventDefault(),h(!0);try{let t=o?o.toISOString().split("T")[0]:"",a=await fetch("http://localhost:8000/api/cabs/?from=".concat(encodeURIComponent(e),"&to=").concat(encodeURIComponent(s),"&date=").concat(encodeURIComponent(t),"&time=").concat(encodeURIComponent(m)));if(a.ok){let e=await a.json();j(e)}else j([])}catch(e){j([])}h(!1)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c(),{children:(0,a.jsx)("title",{children:"VillageStay | Cabs"})}),(0,a.jsx)(r.A,{className:"navbar-fixed"}),(0,a.jsx)("main",{className:"page-content bg-gray-50 min-h-screen",children:(0,a.jsxs)("section",{className:"max-w-4xl mx-auto py-12 px-4",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Book Outstation Cabs"}),(0,a.jsxs)("form",{onSubmit:b,className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,a.jsx)("input",{type:"text",className:"border rounded-lg px-4 py-2",value:e,onChange:e=>t(e.target.value),placeholder:"From",required:!0}),(0,a.jsx)("input",{type:"text",className:"border rounded-lg px-4 py-2",value:s,onChange:e=>n(e.target.value),placeholder:"To",required:!0}),(0,a.jsx)("input",{type:"date",className:"border rounded-lg px-4 py-2",value:o,onChange:e=>x(e.target.value),required:!0}),(0,a.jsx)("input",{type:"time",className:"border rounded-lg px-4 py-2",value:m,onChange:e=>u(e.target.value),required:!0}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(i.Ay,{selected:o,onChange:e=>x(e),className:"input-field",placeholderText:"Select Date",dateFormat:"yyyy-MM-dd",minDate:new Date,required:!0})}),(0,a.jsx)("input",{type:"time",className:"border rounded-lg px-4 py-2 w-full",value:m,onChange:e=>u(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",className:"btn-primary col-span-1 md:col-span-4",children:"SEARCH"})]}),p&&(0,a.jsx)("div",{className:"text-center py-8 text-lg text-green-600 font-semibold",children:"Searching cabs..."}),!p&&g.length>0&&(0,a.jsx)("div",{className:"space-y-6",children:g.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("img",{src:e.image,alt:e.model,className:"w-16 h-12 object-contain"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-bold text-base flex items-center gap-2",children:[e.name,(0,a.jsxs)("span",{className:"bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs font-semibold flex items-center",children:["★ ",e.rating]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.fuel," • ",e.seats," Seats • ",e.ac&&"AC"]}),e.note&&(0,a.jsx)("div",{className:"text-yellow-700 text-xs mt-1",children:e.note})]})]}),(0,a.jsxs)("div",{className:"flex flex-col items-end mt-3 md:mt-0",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-xl font-bold text-blue-700",children:["₹",e.price]}),(0,a.jsxs)("span",{className:"line-through text-gray-400 text-xs",children:["₹",e.oldPrice]})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["+ ₹",e.taxes," Taxes"]}),(0,a.jsx)("button",{className:"btn-primary mt-2",children:"SELECT CAB"})]})]},t))})]})}),(0,a.jsx)(d.A,{})]})}s(1616)}},e=>{var t=t=>e(e.s=t);e.O(0,[121,701,213,874,679,244,96,636,593,792],()=>t(6932)),_N_E=e.O()}]);